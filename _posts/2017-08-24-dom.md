---
layout: default
title: dom操作整理
---

<h2>{{ page.title }}</h2>
<p class="siamess-left">may you have endless dream.</p>
<h3 class="siamess-left">api整理以及例子</h3>
<p>dom中有许多不同类型的节点，包括元素节点、文本节点、属性节点。</p>
<p class="important">元素节点就是html中的标签，比如ul。文本节点就是标签的内容，属性节点就是标签的属性。</p>
<p>css 的样式会发生继承。</p>
<h3 class="siamess-left">获取元素（获取到的要么是对象，要么是数组）</h3>
<p>getElementById,获取的是一个对象</p>
<p>getElementsByClassName、getElementsByTagName,获取的是一个数组,数组中的每一个元素都是对象。</p>
<h3 class="siamess-left">获取和设置属性</h3>
<p>getAttribute、setAttribute,这些方法是不属于document对象，只能通过元素节点调用。</p>
<p>element.getAttribute('title')  or  element.setAttribute('title','this is title')</p>
<h3 class="siamess-left">获取子元素 childNodes</h3>
<p>element.childNodes => 获取到的是当前元素的所有子元素，是一个包含当前元素全部子元素的数组。 </p>
<p class="important">你会发现你获取到的节点比实际的节点都的多，那是因为通过childNodes获取到的节点类型不止元素节点、属性节点、和文本节点这三种。</p>
<h3 class="siamess-left">nodeType属性</h3>
<p>每个节点都有nodeType属性，并且是数字不是英文。</p>
<ul>
    <li>元素节点 nodeType 1</li>
    <li>属性节点 nodeType 2</li>
    <li>文本节点 nodeType 3</li>
</ul>
<h3 class="siamess-left">属性节点的修改是通过setAttribute和getAttribute,那么文本节点的修改是通过什么呢？</h3>
<p>答案是nodeValue.</p>
<p>但是元素节点的nodeValue肯定是为空的，因为元素节点所包含的文字是文本节点，所以想获取元素节点中的值，那么就必须用childNodes获取元素节点的第一个文本节点，再获取文本节点的nodeValue.</p>
<h4 class="siamess-left">firstChild and lastChild属性</h4>
<p>访问childNodes数组的第一个元素或者最后一个元素，就可以使用使用上面的两个属性来代替childNodes[0] childNodes[ele.childNodes.length-1]</p>
<h3 class="siamess-left">动态创建元素</h3>
<p>innerHTML属性：可以获取给定元素里的html内容，</p>
<p>创建元素节点 createElement()</p>
<p>添加节点 appendChild()</p>
<p>创建文本节点 createTextNode()</p>
<p>在已有元素前面添加元素 parent.insertBefore(newElement, targetElement),或者是targetNode.parentNode.insertbefore(new, targetNode)</p>
<p class="important">没有insertAfter！！！</p>
<h3 class="siamess-left">关于节点的常用方法</h3>
<ul>
    <li>parentNode</li>
    <li>lastChild</li>
    <li>appendChild</li>
    <li>insertBefore</li>
    <li>nextSibling</li>
</ul>

<h3 class="siamess-left">清晰的dom整理思路</h3>
<p>来源:</p><a href="http://javascript.ruanyifeng.com/dom/node.html#toc5">点我</a>
<p>主要的节点类型：元素节点、文本节点、属性节点</p>
<p class="siamess-left">节点数</p>
<p>节点最顶层是document,然后依次分别是html等。</p>
<p class="siamess">获取和当前节点相关联的节点的方法：</p>
<ul>
    <li>parentNode</li>
    <li>childNodes</li>
    <li>firstChild</li>
    <li>lastChild</li>
    <li>nextSibling</li>
    <li>previousSibling</li>
</ul>
<p class="siamess-left">节点的属性</p>
<p>nodeType   nodeName</p>
<p>nodeValue, 上面讲到了，nodeValue是获取文本节点的内容，元素节点是需要获取到子节点，也就是用childNodes获取到文本节点之后，才能使用nodeValue</p>
<p>textContent, 返回当前节点的全部后代节点的文本内容， 会自动忽略后代节点的全部标签，直接获取文本内容。</p>
<p class="siamess-left">节点的方法</p>
<ul>
    <li>createElement()</li>
    <li>appendChild()</li>
    <li>createTextNode</li>
    <li>insertBefore</li>
    <li>其他的一些</li>
    <li>hasChildNodes 返回布尔值 判断当前节点是否有子节点</li>
    <li>node.cloneNode()  接受布尔值作为参数，默认为false，判断是否克隆子节点。会拷贝属性，但是不会克隆事件。</li>
    <li>node.removeChild(childNode)  删除并返回当前节点的子节点</li>
    <li>node.replaceChild()      把一个新的节点替换当前节点</li>
    <li>一下的部分在我看来是一些不常用的，可以点击上方的链接查看详细</li>
    <li>contains</li>
    <li>compareDocumentPosition</li>
    <li>isEqualNode</li>
    <li>normalize</li>
</ul>

















<p>{{ page.date | date_to_string }}</p>